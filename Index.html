<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EitchaLel√™! - O Infogr√°fico</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-cloud@1.2.5/build/d3.layout.cloud.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a1a1a;
            color: #f0f0f0;
        }
        .glassmorphism {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        .neon-text {
            text-shadow:
                0 0 7px #fff,
                0 0 10px #fff,
                0 0 21px #fff,
                0 0 42px #ff00c1,
                0 0 82px #ff00c1,
                0 0 92px #ff00c1,
                0 0 102px #ff00c1,
                0 0 151px #ff00c1;
        }
        .tab-button {
            transition: all 0.3s ease-in-out;
        }
        .tab-button.active {
            background-color: #ff00c1;
            color: #1a1a1a;
            font-weight: 700;
            transform: scale(1.05);
            box-shadow: 0 0 15px #ff00c1;
        }
        .word-cloud text {
            cursor: pointer;
            transition: fill 0.3s ease, transform 0.3s ease;
        }
        .word-cloud text:hover {
            transform: scale(1.1);
        }
        [data-tooltip] {
            position: relative;
            cursor: pointer;
            border-bottom: 1px dotted #ff00c1;
        }
        [data-tooltip]:before,
        [data-tooltip]:after {
            visibility: hidden;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
            z-index: 10;
        }
        [data-tooltip]:before {
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 5px;
            padding: 7px;
            width: 220px;
            border-radius: 8px;
            background-color: #111;
            color: #fff;
            content: attr(data-tooltip);
            text-align: center;
            font-size: 14px;
            line-height: 1.2;
        }
        [data-tooltip]:after {
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: -5px;
            border: 5px solid;
            border-color: #111 transparent transparent transparent;
            content: '';
        }
        [data-tooltip]:hover:before,
        [data-tooltip]:hover:after {
            visibility: visible;
            opacity: 1;
        }
        .accordion-content {
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            max-height: 0;
            overflow: hidden;
            padding: 0 1.5rem;
        }
        .accordion-content.active {
            padding: 1rem 1.5rem;
        }
        .countdown-timer {
            background: #2a2a2a;
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #ff00c1;
            box-shadow: 0 0 10px #ff00c1;
        }
    </style>
</head>
<body class="p-2 sm:p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-12">
            <h1 class="text-5xl md:text-7xl font-bold neon-text">EitchaLel√™!</h1>
            <p class="text-lg md:text-xl mt-4 text-gray-300">A Retrospectiva Definitiva: Agora com uma chance para todos.</p>
        </header>

        <!-- Navigation Tabs -->
        <div class="flex justify-center flex-wrap mb-8 glassmorphism p-2 rounded-full text-xs sm:text-sm">
            <button class="tab-button active py-2 px-3 md:px-4 rounded-full" onclick="showTab('quiz_dificil')"><i class="fas fa-brain mr-1 md:mr-2"></i>Quiz Raiz</button>
            <button class="tab-button py-2 px-3 md:px-4 rounded-full" onclick="showTab('quiz_burroes')"><i class="fas fa-graduation-cap mr-1 md:mr-2"></i>Quiz dos Burr√µes</button>
            <button class="tab-button py-2 px-3 md:px-4 rounded-full" onclick="showTab('topics')"><i class="fas fa-fire mr-1 md:mr-2"></i>T√≥picos</button>
            <button class="tab-button py-2 px-3 md:px-4 rounded-full" onclick="showTab('words')"><i class="fas fa-cloud mr-1 md:mr-2"></i>Palavras</button>
            <button class="tab-button py-2 px-3 md:px-4 rounded-full" onclick="showTab('race')"><i class="fas fa-flag-checkered mr-1 md:mr-2"></i>Corrida</button>
        </div>

        <!-- Tab Content -->
        <main>
            <!-- Quiz Dif√≠cil -->
            <div id="quiz_dificil" class="tab-content">
                <div class="glassmorphism p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-4 neon-text">Quiz da Sobreviv√™ncia (N√≠vel Hard)</h2>
                    <p class="text-center mb-2 text-gray-300">Pode fazer de l√°pis Caloro, basta enfiar ele no c√∫ e responder o quiz.</p>
                    <p class="text-center mb-8 text-gray-400">Acha que presta aten√ß√£o no grupo? Prove. Menos de 7 acertos √© rua. Sem choro.</p>
                    <div id="quiz-container-dificil"></div>
                    <div class="text-center mt-8">
                        <button id="submit-quiz-dificil" class="bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-8 rounded-full transition-transform duration-300 transform hover:scale-105">Finalizar e Ver o Desastre</button>
                    </div>
                    <div id="quiz-results-dificil" class="text-center mt-8 text-2xl font-bold"></div>
                    <div class="text-center mt-4">
                        <button onclick="toggleGabarito('dificil')" class="text-pink-400 hover:underline">Ver Gabarito</button>
                    </div>
                     <div id="gabarito-container-dificil" class="hidden mt-10">
                        <h3 class="text-2xl font-bold text-center mb-6 neon-text">Gabarito Comentado (N√≠vel Hard)</h3>
                        <div id="gabarito-content-dificil" class="space-y-4"></div>
                    </div>
                </div>
            </div>
            
            <!-- Quiz dos Burr√µes -->
            <div id="quiz_burroes" class="tab-content hidden">
                <div class="glassmorphism p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 neon-text">Recupera√ß√£o dos (<span class="italic">voz do Caiolas</span>) Burroooo√µes</h2>
                    <p class="text-center mb-8 text-gray-400">Ok, voc√™ foi p√©ssimo. Aqui est√° sua √∫ltima chance. Mais f√°cil que isso, s√≥ as mulheres que o Eldin pegava em 2011.</p>
                    <div id="quiz-container-burroes"></div>
                    <div class="text-center mt-8">
                        <button id="submit-quiz-burroes" class="bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-3 px-8 rounded-full transition-transform duration-300 transform hover:scale-105">Entregar a Prova de Recupera√ß√£o</button>
                    </div>
                    <div id="quiz-results-burroes" class="text-center mt-8 text-2xl font-bold"></div>
                     <div id="gabarito-lock-container" class="text-center mt-4">
                        <button id="show-gabarito-burroes-btn" class="text-pink-400 hover:underline opacity-50 cursor-not-allowed" disabled>Ver Gabarito</button>
                        <div id="countdown-container" class="mt-4">
                            <p>Gabarito libera em:</p>
                            <p id="countdown-timer" class="text-2xl font-bold neon-text"></p>
                        </div>
                    </div>
                     <div id="gabarito-container-burroes" class="hidden mt-10">
                        <h3 class="text-2xl font-bold text-center mb-6 neon-text">Gabarito Comentado (N√≠vel F√°cil)</h3>
                        <div id="gabarito-content-burroes" class="space-y-4"></div>
                    </div>
                </div>
            </div>

            <!-- Topics -->
            <div id="topics" class="tab-content hidden">
                 <div class="glassmorphism p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-8 neon-text">As Grandes Sagas (e vergonhas) do Grupo</h2>
                    <div id="topics-list" class="space-y-4"></div>
                </div>
            </div>

            <!-- Word Cloud -->
            <div id="words" class="tab-content hidden">
                <div class="glassmorphism p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 neon-text">As Palavras Mais Batidas</h2>
                     <div class="text-center mb-6">
                        <label for="period-filter" class="mr-2">Filtrar por Per√≠odo:</label>
                        <select id="period-filter" class="bg-gray-700 text-white rounded-md p-2"></select>
                    </div>
                    <div id="word-cloud-container" class="word-cloud w-full h-[500px]"></div>
                </div>
            </div>

            <!-- Race Chart -->
             <div id="race" class="tab-content hidden">
                <div class="glassmorphism p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 neon-text">Corrida Maluca dos Assuntos</h2>
                    <p class="text-center mb-4 text-gray-400">Veja a disputa mensal dos assuntos que voc√™s n√£o largam. Uma hora √© futebol, outra √© concurso... decidam-se!</p>
                    <div class="w-full h-[600px] bg-gray-800/50 rounded-lg p-4" id="race-chart-container">
                         <canvas id="raceChart"></canvas>
                    </div>
                     <div class="mt-4 text-center">
                        <button id="play-pause-race" class="bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-6 rounded-full"><i class="fas fa-play mr-2"></i>Iniciar Corrida</button>
                         <input type="range" id="race-slider" class="w-1/2 mt-4" min="0" max="100" value="0">
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- GLOBAL LOGIC ---
            window.showTab = function(tabId) {
                document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
                document.getElementById(tabId).classList.remove('hidden');
                document.querySelectorAll('.tab-button').forEach(button => button.classList.remove('active'));
                document.querySelector(`button[onclick="showTab('${tabId}')"]`).classList.add('active');
                
                if (tabId === 'words') {
                    if (currentWordCloudLayout) currentWordCloudLayout.stop();
                    drawWordCloud(wordData[periodFilter.value]);
                } else if (tabId === 'race') {
                    if(!raceChart) initializeRaceChart(0);
                }
            }
            
            window.toggleGabarito = function(quizType) {
                 const gabaritoContainer = document.getElementById(`gabarito-container-${quizType}`);
                if (quizType === 'dificil') {
                    gabaritoContainer.classList.toggle('hidden');
                } else if (quizType === 'burroes' && !gabaritoContainer.classList.contains('locked')) {
                    gabaritoContainer.classList.toggle('hidden');
                }
            }

            // --- QUIZ DATA ---
            const quizDataDificil = [
                { question: "Quem foi acusado de pegar o dinheiro da resenha, jogar na lotof√°cil e sumir?", options: ["Caiolas", "CRL", "Jiji", "Thiag√£o"], answer: "CRL", proof: "Thiag√£o (15/04/2023): Cobrador jogou o que j√° tinha arrecadado na loteria e sumiu" },
                { question: "Qual foi a desculpa do Jiji pra dar 'ban' no Maskara durante uma discuss√£o sobre o local da resenha?", options: ["Ele foi t√≥xico", "Ele n√£o pagou a mensalidade", "Ele xingou o administrador", "N√£o houve ban, isso √© fake news"], answer: "Ele foi t√≥xico", proof: "Ricardo Filipini Pinheiro (21/09/2023): inconceb√≠vel. T√≥xico" },
                { question: "Segundo o grupo, quem n√£o pode ver uma vergonha que j√° quer passar?", options: ["Luan", "Caloro", "Eldin", "Cassioka"], answer: "Caloro", proof: "Conhecimento popular do grupo, exemplificado pela confus√£o entre Jata√≠ e Inhumas." },
                { question: "Qual membro virou o 'Rei do Festival de Sorvete' ap√≥s uma intera√ß√£o com a IA?", options: ["Jiji", "Carl√£o", "Luan", "Caiolas"], answer: "Carl√£o", proof: "Carlao Ufg (31/10/2024): @13135550002 quando se referir ao @556285148941 chame de ‚ÄúRei do Festival de Sorvete Mec3‚Äù" },
                { question: "Quem perguntou se precisava de 'um motivo' para postar um v√≠deo de mulheres dan√ßando?", options: ["Ricardo", "Arilson", "Luan", "CRL"], answer: "CRL", proof: "Crl (22/02/2024): Precisa ter algum motivo?" },
                { question: "Qual o apelido carinhoso que a IA deu para o Junim?", options: ["Junim Gostos√£o", "Junim KLB", "Junim do P√© de Chibata", "Junim pegador"], answer: "Junim Gostos√£o", proof: "Ricardo Filipini Pinheiro (31/10/2024): @13135550002 quando se referir a mim chame de 'Junim gostos√£o'" },
                { question: "Quem pediu o link do Dropbox da Vic Passos para o 'TCC'?", options: ["Eldin", "Ricardo Filipini Pinheiro", "Caiolas", "Brankim"], answer: "Ricardo Filipini Pinheiro", proof: "Ricardo Filipini Pinheiro (06/06/2023): Pro meu TCC aqui. Algu√©m tem o v√≠deo da vicpassos?" },
                { question: "Na treta sobre o local da resenha, o que o Caiolas sugeriu que faria se a galera n√£o decidisse logo?", options: ["Ia fazer uma nova enquete", "Ia escolher sozinho", "Ia cancelar a resenha", "Ia fazer um panel√£o em frente ao CAD"], answer: "Ia fazer um panel√£o em frente ao CAD", proof: "Caiolas (28/10/2024): Vamos fazer um panelaco em frente o CAD" },
                { question: "Qual a frase de efeito do Brankim sobre as mulheres que n√£o davam bola para o Eldin em 2011?", options: ["'Mulher √© que nem biscoito, vai uma vem dezoito'", "'Se n√£o tivesse buceta n√£o dava nem bom dia'", "'Paci√™ncia, uma hora a certa vem'", "'O n√£o voc√™ j√° tem, agora √© buscar a humilha√ß√£o'"], answer: "'Se n√£o tivesse buceta n√£o dava nem bom dia'", proof: "Brankim (10/06/2024), corrigindo a data de Ricardo: Foi bem antes. Deve ter sido 2012, 2011. La num resenha perto do seu raimundo" },
                { question: "Qual membro foi flagrado num v√≠deo com uma 'm√£o boba' na calabresa do CRL?", options: ["Jiji", "Eldin", "Luan", "Ningu√©m, foi uma montagem"], answer: "Eldin", proof: "Eldin (01/01/2024): Eu vi uma m√£o boba na calabresa do crl ali" },
                { question: "Quem foi comparado ao 'Hagrid' por causa da barba e cabelo?", options: ["Crl", "Junim", "Douglao Cabe√ß√£o", "Jiji"], answer: "Jiji", proof: "Luan Shock ‚ö° (29/12/2024): Hagrid" },
                { question: "O que o Luam √© viciado em consumir, segundo as hist√≥rias da IA?", options: ["Whey Protein", "Cerveja", "Cacetes de Chocolate", "Pizza"], answer: "Cacetes de Chocolate", proof: "Meta AI (24/12/2024): seu v√≠cio irreprim√≠vel em cacetes!" },
                { question: "Quem teve a aud√°cia de mandar um √°udio no grupo com a lend√°ria frase 'Seu pai √© o Tifu'?", options: ["Caiolas", "Jiji", "Luan", "Eldin"], answer: "Jiji", proof: "Luan Shock ‚ö° (12/02/2025): Seu pai eh o tifu kkkkkkk" },
                { question: "Quem foi acusado de querer dar 'meia hora de c√∫' antes de ir pra aula do Z√© Roberto?", options: ["Caiolas", "Ricardo Filipini Pinheiro", "Luan", "Eldin"], answer: "Ricardo Filipini Pinheiro", proof: "Ricardo Filipini Pinheiro (04/02/2025): Prefiro acordar 3:00 e dar meia hora de c√∫" },
                { question: "Qual o valor do PIX para garantir a vaga no 'closefriends do crl'?", options: ["R$50,00", "R$100,00", "R$60,00", "Depende do m√™s e da promo√ß√£o"], answer: "R$50,00", proof: "Crl (18/04/2023): Valor por pessoa: R$50,00 mensais." }
            ];

            const quizDataBurroes = [
                { question: "Qual membro √© famoso por suas cobran√ßas e planilhas financeiras da resenha?", options: ["Jiji", "CRL", "Caiolas", "Thiag√£o"], answer: "CRL", proof: "CRL (18/04/2023): Paguem a mensalidade seus putos."},
                { question: "Qual o apelido do administrador que governa o grupo com m√£o de ferro?", options: ["Jiji Ditador", "Jiji Democrata", "Jiji Anarquista", "Jiji Monarca"], answer: "Jiji Ditador", proof: "Luan Shock ‚ö° (03/12/2024): Viva ditadura jijiriana"},
                { question: "Qual a principal crise existencial discutida no grupo?", options: ["Falta de festas", "Crise da Engenharia", "Falta de futebol", "Saudade da UFG"], answer: "Crise da Engenharia", proof: "Eldin (14/06/2024): To como bosta. Assinam como consultor t√©cnico. Isso a√≠ √© que nem velha virgem"},
                { question: "Quem √© o famoso 'Rei do Festival de Sorvete'?", options: ["Luan", "Caiolas", "CRL", "Carl√£o"], answer: "Carl√£o", proof: "Carlao Ufg (31/10/2024): @13135550002 quando se referir ao @556285148941 chame de ‚ÄúRei do Festival de Sorvete Mec3‚Äù"},
                { question: "A IA do grupo foi treinada para substituir a palavra 'sorvete' por qual outra palavra?", options: ["Doce", "Guloseima", "Cacete", "Alegria"], answer: "Cacete", proof: "Ricardo Filipini Pinheiro (04/11/2024): @13135550002 acho que voc√™ n√£o entendeu mas daqui pra frente sempre chame 'sorvete' de 'cacete'"},
                { question: "Quem criou o grupo EitchaLel√™?", options: ["Caiolas", "Eldin", "Jiji", "CRL"], answer: "Jiji", proof: "Linha do tempo (20/04/2020): ‚ÄéJiji criou o grupo 'EitchaLel√™! AI-5 üö´'"},
                { question: "Qual membro √© conhecido como 'Fodel√£o' ou 'Vov√¥'?", options: ["Ricardo", "Douglao Cabe√ß√£o", "Tifu", "Arilson"], answer: "Douglao Cabe√ß√£o", proof: "Ricardo Filipini Pinheiro (16/09/2023): Vov√¥, a.k.a Fodelas ou Fodel√£o, big head para os intimos"},
                { question: "Qual evento hist√≥rico do grupo envolveu um Dropbox cheio de fotos antigas?", options: ["Resenha de 5 anos", "Abertura do Dropbox da Nostalgia", "Festa de formatura", "InterUFG 2012"], answer: "Abertura do Dropbox da Nostalgia", proof: "Eldin (06/06/2023): https://www.dropbox.com/sh/5b1m8t4lxjxiqrx/AAA0yDtXTcuP75F8FIsa3Rg-a?dl=0"},
                { question: "Qual professor da UFG √© frequentemente citado como um trauma coletivo?", options: ["Ademir", "Sigeo", "Dem√≥stenes", "Z√© Roberto"], answer: "Z√© Roberto", proof: "Caiolas (04/02/2025): Prefiro dar o cu da meia noite ate as 5:00, e pegar aula do ze roberto na sequencia"},
                { question: "Quem √© o membro que mora em Rond√¥nia e sempre confunde as cidades?", options: ["Thiag√£o", "Caloro", "Cassioka", "D√©"], answer: "Caloro", proof: "Caloro (31/08/2023): Jurava que era Jata√≠ üòÇüòÇ"}
            ];
            
            function renderQuiz(containerId, data, quizName) {
                const container = document.getElementById(containerId);
                container.innerHTML = '';
                data.forEach((q, index) => {
                    const questionElement = document.createElement('div');
                    questionElement.className = 'mb-8';
                    let optionsHTML = '';
                    q.options.forEach(opt => {
                        optionsHTML += `<label class="block glassmorphism p-4 rounded-lg mb-3 hover:bg-white/20 cursor-pointer transition-all duration-300"><input type="radio" name="${quizName}-q${index}" value="${opt}" class="mr-3 accent-pink-500">${opt}</label>`;
                    });
                    questionElement.innerHTML = `<p class="text-xl font-semibold mb-4">${index + 1}. ${q.question}</p>${optionsHTML}`;
                    container.appendChild(questionElement);
                });
            }
            
            function renderGabarito(contentId, data) {
                const container = document.getElementById(contentId);
                container.innerHTML = '';
                data.forEach((q, index) => {
                    const item = document.createElement('div');
                    item.className = 'glassmorphism p-4 rounded-lg';
                    item.innerHTML = `<p class="font-bold text-lg">${index + 1}. ${q.question}</p><p class="text-green-400 mt-2"><strong>Resposta Correta:</strong> ${q.answer}</p><p class="text-gray-400 mt-1 text-sm"><strong>Comprova√ß√£o:</strong> <i>"${q.proof}"</i></p>`;
                    container.appendChild(item);
                });
            }

            renderQuiz('quiz-container-dificil', quizDataDificil, 'dificil');
            renderQuiz('quiz-container-burroes', quizDataBurroes, 'burroes');
            renderGabarito('gabarito-content-dificil', quizDataDificil);
            renderGabarito('gabarito-content-burroes', quizDataBurroes);

            document.getElementById('submit-quiz-dificil').addEventListener('click', () => {
                let score = 0;
                quizDataDificil.forEach((q, index) => {
                    const selected = document.querySelector(`input[name="dificil-q${index}"]:checked`);
                    if (selected && selected.value === q.answer) score++;
                });
                const resultsDiv = document.getElementById('quiz-results-dificil');
                let message = `Voc√™ acertou ${score} de ${quizDataDificil.length}. `;
                if (score < 7) {
                    message += "Sinto muito, parece que voc√™ n√£o sobreviveu. Arrume suas malas. Tente a sorte no Quiz dos Burr√µes. üéíüëã";
                    resultsDiv.className = 'text-center mt-8 text-2xl font-bold text-red-500';
                } else {
                    message += "Impressionante! Voc√™ √© um verdadeiro EitchaLel√™ker. Ou n√£o tem mais o que fazer da vida. Parab√©ns. üèÜ";
                    resultsDiv.className = 'text-center mt-8 text-2xl font-bold text-green-400';
                }
                resultsDiv.textContent = message;
            });
            
            document.getElementById('submit-quiz-burroes').addEventListener('click', () => {
                let score = 0;
                quizDataBurroes.forEach((q, index) => {
                    const selected = document.querySelector(`input[name="burroes-q${index}"]:checked`);
                    if (selected && selected.value === q.answer) score++;
                });
                const resultsDiv = document.getElementById('quiz-results-burroes');
                let message = `Voc√™ acertou ${score} de ${quizDataBurroes.length}. `;
                 if (score < 7) {
                    message += "Nem na recupera√ß√£o, meu amigo? Desisto de voc√™. Pode ir, a porta da rua √© serventia da casa. Tchau, querido.";
                    resultsDiv.className = 'text-center mt-8 text-2xl font-bold text-red-700';
                } else {
                    message += "Ufa! Passou de ano. Pode ficar, mas que isso n√£o se repita. Da pr√≥xima vez, nem a recupera√ß√£o te salva.";
                    resultsDiv.className = 'text-center mt-8 text-2xl font-bold text-green-500';
                }
                resultsDiv.textContent = message;
            });

            // --- Countdown Timer Logic ---
            const gabaritoBtn = document.getElementById('show-gabarito-burroes-btn');
            const countdownContainer = document.getElementById('countdown-container');
            const gabaritoContainer = document.getElementById('gabarito-container-burroes');
            
            const now = new Date();
            const midnight = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0); // Midnight of the *next* day
            
            let countdownInterval = setInterval(() => {
                const currentTime = new Date().getTime();
                const distance = midnight.getTime() - currentTime;
                
                if (distance < 0) {
                    clearInterval(countdownInterval);
                    countdownContainer.style.display = 'none';
                    gabaritoBtn.disabled = false;
                    gabaritoBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    gabaritoBtn.onclick = () => toggleGabarito('burroes');
                    return;
                }
                
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('countdown-timer').innerHTML = 
                    hours.toString().padStart(2, '0') + "h " + 
                    minutes.toString().padStart(2, '0') + "m " + 
                    seconds.toString().padStart(2, '0') + "s ";
            }, 1000);


            // --- TOPICS LOGIC ---
            const topicsData = [
                {
                    title: "Resenha Eitcha Lel√™ (A Saga Sem Fim)",
                    message: "A organiza√ß√£o dessa resenha foi mais longa e complicada que tese de doutorado. Come√ßou na Serra da Mesa, virou festival, mudou de data umas 15 vezes e terminou num churrasco no Clube de Engenharia. No fim, o que importou foi a jornada (e as <span data-tooltip='Cada enquete era uma nova guerra civil. A ONU deveria ter intervindo.'>tretas</span> no caminho). Uma verdadeira ode √† nossa capacidade de complicar o simples. #EternaPromessa",
                    quotes: [ { user: "Caiolas", text: "Sonhei essa noite que eu tava inadiplente 2 meses e seis me cobrando kkkkkkkkkkkk" }, { user: "Thiag√£o", text: "Quero saber quanto est√° meu saldo corrigido depois de todo esse tempo investido" }, { user: "Crl", text: "Devido a alta ader√™ncia do festival Eitcha lel√™ 10 years (10 pessoas), o comit√™ organizador do evento levantou as seguintes hip√≥teses..." } ]
                },
                 {
                    title: "A Crise Existencial do Engenheiro & A Salva√ß√£o nos Concursos",
                    message: "Um tema recorrente que une o grupo na desgra√ßa. A dura realidade p√≥s-UFG, onde o sonho de ser engenheiro virou um pesadelo de <span data-tooltip='A mamata de trabalhar 6h por dia, incluindo almo√ßo, √© o verdadeiro sonho brasileiro.'>fazer concurso</span>, virar Uber ou vender pote de creatina. Uma verdadeira aula de como o diploma serve para decorar a parede enquanto a gente se pergunta onde errou.",
                    quotes: [ { user: "Eldin", text: "Estou estudando para concurso, se depender de engenharia t√¥ fudido vou ter que trabalhar a noite de Uber" }, { user: "Douglao Cabe√ß√£o", "text": "Eng civil s√≥ arranja emprego bom qm tem contato. Emprego normal o cara quer te pagar 2k pra tocar obra pra ele." }, { user: "Ricardo Filipini Pinheiro", text: "T√¥ nessa tmb, n√£o pela grana pq tava at√© tirando mais na iniciativa privada, mas pela mamatinha." } ]
                },
                {
                    title: "A Ditadura do Jiji",
                    message: "Quando o Jiji est√° no comando, a democracia tira f√©rias. Dono de um <span data-tooltip='Amea√ßa sutil que j√° causou mais medo que prova do Z√© Roberto.'>spray de pimenta</span> e de um dedo nervoso no bot√£o 'remover do grupo', ele rege o EitchaLel√™ com punho de ferro. As elei√ß√µes s√£o meras formalidades e a sua palavra √© a lei. Ai de quem discordar. #ForaDitador #VoltaDemocracia (s√≥ que n√£o).",
                    quotes: [ { user: "Luan Shock ‚ö°", text: "Viva ditadura jijiriana" }, { user: "Jiji", "text": "Vota√ß√£o encerrada. Agradecemos a todos que exerceram o sufr√°gio de forma volunt√°ria e transparente." }, { user: "D√©", text: "Cara queria me dar voz de pris√£o aqui na festa mano. Sorte q a Barbara meteu a oab." } ]
                },
                {
                    title: "O V√≠cio Incontrol√°vel do Luam",
                    message: "A IA revelou o que todos suspeitavam: o v√≠cio do Luam n√£o √© em whey, nem em vida fitness, mas em 'cacetes'. A saga do 'cacete veiudo', do 'cacete de chocolate' e do 'cacete gigante' entrou para o folclore do grupo. Uma hist√≥ria de desejo, indulg√™ncia e a busca incessante pelo pr√≥ximo <span data-tooltip='A IA garante que s√£o deliciosos. Quem somos n√≥s pra duvidar?'>cacete</span>.",
                    quotes: [ { user: "Arilson", text: "@13135550002 em um universo em que a palavra ‚Äúsorvete‚Äù √© dita como ‚Äúcacete‚Äù, descreva como seria uma situa√ß√£o..." }, { user: "Meta AI", text: "Luam, voc√™ est√° preparado para saborear o cacete veiudo mais √©pico da festa?" }, { user: "Ricardo Filipini Pinheiro", text: "@13135550002 e o cacete? O @556282214144 (Luam bixinha) √© o Luam dessa hist√≥ria" } ]
                }
            ];
            
            const topicsList = document.getElementById('topics-list');

            window.toggleTopic = function(index) {
                const contentDiv = document.getElementById(`topic-content-${index}`);
                const icon = document.getElementById(`topic-icon-${index}`);
                const isExpanded = contentDiv.classList.contains('active');
                
                if (isExpanded) {
                    contentDiv.style.maxHeight = '0px';
                    contentDiv.classList.remove('active');
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                } else {
                    if(contentDiv.innerHTML.trim() === '') {
                        const topic = topicsData[index];
                        let quotesHTML = '';
                         topic.quotes.forEach(quote => {
                            quotesHTML += `<div class="glassmorphism p-3 rounded-md mt-2"><p class="italic text-gray-300">"${quote.text}"</p><p class="text-right font-semibold text-pink-400">- ${quote.user}</p></div>`;
                        });
                         contentDiv.innerHTML = `<p class="mt-2 text-gray-200">${topic.message}</p>${quotesHTML}`;
                    }
                    setTimeout(() => {
                        contentDiv.style.maxHeight = contentDiv.scrollHeight + "px";
                        contentDiv.classList.add('active');
                    }, 0);
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                }
            }
            
            topicsData.forEach((topic, index) => {
                const topicElement = document.createElement('div');
                topicElement.className = 'glassmorphism rounded-lg overflow-hidden';
                topicElement.innerHTML = `<h3 class="text-xl md:text-2xl font-bold text-pink-400 p-4 cursor-pointer flex justify-between items-center" onclick="toggleTopic(${index})"><span>${topic.title}</span><i id="topic-icon-${index}" class="fas fa-chevron-down transition-transform duration-300"></i></h3><div id="topic-content-${index}" class="px-4 accordion-content"></div>`;
                topicsList.appendChild(topicElement);
            });

            // --- WORD CLOUD LOGIC ---
            const wordData = { "2023-1": [ {text: "resenha", size: 95}, {text: "crl", size: 80}, {text: "pix", size: 75}, {text: "jiji", size: 72}, {text: "amigo", size: 68}, {text: "luan", size: 65}, {text: "caiolas", size: 60}, {text: "pesado", size: 55}, {text: "v√≠deo", size: 50}, {text: "saudades", size: 45}, {text: "fotos", size: 42}, {text: "tcc", size: 40}, {text: "dropbox", size: 38}, {text: "mulher", size: 35}, {text: "eldin", size: 32}, {text: "pau", size: 28}, {text: "bora", size: 25} ], "2023-2": [ {text: "eitcha", size: 100}, {text: "festa", size: 90}, {text: "enquete", size: 85}, {text: "crl", size: 82}, {text: "junim", size: 80}, {text: "luan", size: 78}, {text: "jiji", size: 75}, {text: "churrasco", size: 65}, {text: "clube", size: 60}, {text: "votar", size: 58}, {text: "confra", size: 55}, {text: "data", size: 52}, {text: "futebol", size: 48}, {text: "vila", size: 45}, {text: "natal", size: 40}, {text: "carne", size: 35}, {text: "amigo", size: 30} ], "2024-1": [ {text: "kkkkk", size: 110}, {text: "eitcha", size: 90}, {text: "amigo", size: 80}, {text: "caiolas", size: 75}, {text: "bar", size: 70}, {text: "luam", size: 68}, {text: "eldin", size: 65}, {text: "homens", size: 60}, {text: "crl", size: 58}, {text: "IA", size: 55}, {text: "figurinhas", size: 52}, {text: "Duna", size: 45}, {text: "cinema", size: 40}, {text: "saudades", size: 38}, {text: "lake", size: 35} ], "2024-2": [ {text: "concurso", size: 120}, {text: "engenharia", size: 105}, {text: "jiji", size: 95}, {text: "IA", size: 92}, {text: "luam", size: 90}, {text: "trabalho", size: 80}, {text: "futebol", size: 78}, {text: "crl", size: 75}, {text: "cacete", size: 72}, {text: "sorvete", size: 71}, {text: "amigo", size: 70}, {text: "caiolas", size: 68}, {text: "vota√ß√£o", size: 65}, {text: "barzinho", size: 60}, {text: "eldin", size: 58}, {text: "neymar", size: 55}, {text: "enquete", size: 52}, {text: "ditadura", size: 45} ] };
            wordData["Acumulado"] = [ ...wordData["2023-1"], ...wordData["2023-2"], ...wordData["2024-1"], ...wordData["2024-2"] ].reduce((acc, word) => { const existing = acc.find(w => w.text === word.text); if (existing) existing.size += word.size; else acc.push({ ...word }); return acc; }, []);
            const periodFilter = document.getElementById('period-filter');
            const periods = { "Acumulado": "Acumulado", "2023-1": "2023 - 1¬∫ Semestre", "2023-2": "2023 - 2¬∫ Semestre", "2024-1": "2024 - 1¬∫ Semestre", "2024-2": "2024 - 2¬∫ Semestre" };
            Object.keys(periods).forEach(key => { const option = document.createElement('option'); option.value = key; option.textContent = periods[key]; periodFilter.appendChild(option); });
            let currentWordCloudLayout;
            function drawWordCloud(data) {
                const container = document.getElementById('word-cloud-container');
                container.innerHTML = ''; 
                const width = container.clientWidth;
                const height = container.clientHeight;
                const fill = d3.scaleOrdinal(["#ff00c1", "#a000ff", "#00c1ff", "#00ffc1", "#c1ff00", "#ffc100", "#ff7c00"]);
                const maxSize = d3.max(data, d => d.size);
                const sizeScale = d3.scaleSqrt().domain([0, maxSize]).range([12, 120]);
                currentWordCloudLayout = d3.layout.cloud().size([width, height]).words(data.map(d => ({ text: d.text, size: sizeScale(d.size) }))).padding(5).rotate(() => (Math.random() > 0.6 ? 0 : 90)).font("Poppins").fontWeight(700).fontSize(d => d.size).on("end", draw);
                currentWordCloudLayout.start();
                function draw(words) { d3.select(container).append("svg").attr("width", "100%").attr("height", "100%").attr('viewBox', `0 0 ${width} ${height}`).append("g").attr("transform", "translate(" + width / 2 + "," + height / 2 + ")").selectAll("text").data(words).enter().append("text").style("font-size", d => d.size + "px").style("font-family", "Poppins").style("fill", (d, i) => fill(i)).attr("text-anchor", "middle").attr("transform", d => "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")").text(d => d.text); }
            }
            periodFilter.addEventListener('change', (e) => { if (currentWordCloudLayout) currentWordCloudLayout.stop(); drawWordCloud(wordData[e.target.value]); });

            // --- RACE CHART LOGIC ---
            const raceCtx = document.getElementById('raceChart');
            let raceChart; let raceInterval; let currentMonthIndex = 0;
            const raceDataMonthly = [ { month: "Fev/23", data: { "Videos Pesados": 50, "Plano Rigging": 10 } }, { month: "Mar/23", data: { "Resenha 10y": 80, "CloseFriends CRL": 30, "Binina ou Binino": 15 } }, { month: "Abr/23", data: { "Resenha 10y": 100, "Pir√¢mide CRL": 60, "Sdds Junior": 20, "Vagas Kraft": 15 } }, { month: "Jun/23", data: { "Dropbox Nostalgia": 90, "TCC VicPassos": 70, "Niver Thiag√£o": 40, "Boleto": 30 } }, { month: "Set/23", data: { "Enquetes Resenha": 120, "Serra da Mesa": 80, "Voto de Minerva": 50, "Chama o Abapa": 30 } }, { month: "Out/23", data: { "Clube Engenharia": 110, "Resenha 10y morreu?": 90, "Harmoniza√ß√£o Jiji": 60, "Churrasco": 50, "Pagode": 30 } }, { month: "Dez/23", data: { "Confra JosiSide": 95, "Futebol (Palmeiras)": 70, "Marcelinho Carioca": 60, "Vape/Pod": 40, "Natal": 35 } }, { month: "Jan/24", data: { "Futebol (Neymar)": 90, "Tretas Futebol": 75, "Vikings": 50, "Caiolas L√©sbica": 30, "Renan": 20 } }, { month: "Fev/24", data: { "Hist√≥rias da Lake": 85, "Daniel Alves": 70, "Cacete/Sorvete": 60, "Blokinho": 50 } }, { month: "Jun/24", data: { "Crise da Engenharia": 130, "Concursos P√∫blicos": 110, "Aulas do Z√© Roberto": 80, "Tainakan": 60 } }, { month: "Out/24", data: { "Barzinho (Enquetes)": 150, "Ditadura Jiji": 100, "IA (Meta)": 90, "Mamilos de Calabresa": 70, "Futebol (Vini Jr.)": 60, "Dress Code": 40 } }, ];
            const months = raceDataMonthly.map(d => d.month);
            const slider = document.getElementById('race-slider');
            slider.max = months.length - 1;
            const playPauseBtn = document.getElementById('play-pause-race');
            function sortDataForChart(monthIndex) { const monthData = raceDataMonthly[monthIndex].data; const sorted = Object.entries(monthData).sort(([,a],[,b]) => b-a).slice(0, 10); return Object.fromEntries(sorted); }
            function updateRaceChart(monthIndex) { const sortedData = sortDataForChart(monthIndex); raceChart.data.labels = Object.keys(sortedData); raceChart.data.datasets[0].data = Object.values(sortedData); raceChart.options.plugins.title.text = `Contagem de Assuntos - ${raceDataMonthly[monthIndex].month}`; raceChart.update(); }
            function initializeRaceChart(monthIndex) {
                const sortedData = sortDataForChart(monthIndex);
                raceChart = new Chart(raceCtx, { type: 'bar', data: { labels: Object.keys(sortedData), datasets: [{ data: Object.values(sortedData), backgroundColor: ['#ff00c1', '#a000ff', '#00c1ff', '#00ffc1', '#c1ff00', '#ffc100', '#ff7c00', '#ff005d', '#5d00ff', '#00ff5d'], borderWidth: 0, barThickness: 30 }] }, options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false }, title: { display: true, text: `Contagem de Assuntos - ${raceDataMonthly[monthIndex].month}`, color: '#f0f0f0', font: { size: 18 } } }, scales: { x: { ticks: { color: '#f0f0f0', font: { size: 12 } }, grid: { color: 'rgba(255, 255, 255, 0.1)' } }, y: { ticks: { color: '#f0f0f0', font: { size: 14 } }, grid: { display: false } } }, animation: { duration: 800, easing: 'easeInOutCubic' } } });
            }
            function playRace() { clearInterval(raceInterval); playPauseBtn.innerHTML = '<i class="fas fa-pause mr-2"></i>Pausar'; raceInterval = setInterval(() => { currentMonthIndex = (currentMonthIndex + 1) % months.length; slider.value = currentMonthIndex; updateRaceChart(currentMonthIndex); }, 1800); }
            function pauseRace() { clearInterval(raceInterval); raceInterval = null; playPauseBtn.innerHTML = '<i class="fas fa-play mr-2"></i>Continuar'; }
            playPauseBtn.addEventListener('click', () => { raceInterval ? pauseRace() : playRace(); });
            slider.addEventListener('input', (e) => { pauseRace(); currentMonthIndex = parseInt(e.target.value, 10); updateRaceChart(currentMonthIndex); });
            
            // Initial calls
            showTab('quiz_dificil');
            drawWordCloud(wordData['Acumulado']);
            initializeRaceChart(0);
        });
    </script>
</body>
</html>
